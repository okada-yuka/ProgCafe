{"remainingRequest":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js??ref--14-2!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/signIn/SignInButton.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/signIn/SignInButton.vue","mtime":1600820798363},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3lva2FkYS9NMS9Qcm9nQ2FmZS9wcm9nLWNhZmUtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMveW9rYWRhL00xL1Byb2dDYWZlL3Byb2ctY2FmZS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy95b2thZGEvTTEvUHJvZ0NhZmUvcHJvZy1jYWZlLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3lva2FkYS9NMS9Qcm9nQ2FmZS9wcm9nLWNhZmUtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlL2FwcCc7CmltcG9ydCB7IGF1dGggfSBmcm9tICdAL3V0aWxzL2ZpcmViYXNlJzsKaW1wb3J0IHsgc3RvcmUgfSBmcm9tICdAL3V0aWxzL3N0b3JlJzsKaW1wb3J0IHsgc2lnbmluIH0gZnJvbSAnQC91dGlscy9odHRwJzsKCnZhciBTaWduSW5CdXR0b24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoU2lnbkluQnV0dG9uLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTaWduSW5CdXR0b24pOwoKICBmdW5jdGlvbiBTaWduSW5CdXR0b24oKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbkluQnV0dG9uKTsKCiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU2lnbkluQnV0dG9uLCBbewogICAga2V5OiAic2lnbkluIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaWduSW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBzdG9yZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR2l0aHViQXV0aFByb3ZpZGVyKCk7CiAgICAgIGF1dGguc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICB2YXIgX3Jlc3VsdCRhZGRpdGlvbmFsVXNlOwoKICAgICAgICB2YXIgdXNlcm5hbWUgPSByZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Jlc3VsdCRhZGRpdGlvbmFsVXNlID0gcmVzdWx0LmFkZGl0aW9uYWxVc2VySW5mbykgPT09IG51bGwgfHwgX3Jlc3VsdCRhZGRpdGlvbmFsVXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzdWx0JGFkZGl0aW9uYWxVc2UudXNlcm5hbWU7CiAgICAgICAgaWYgKHVzZXJuYW1lID09IG51bGwpIHRocm93IG5ldyBFcnJvcignVXNlcm5hbWUgaXMgbm90IGRlZmluZWQnKTsKICAgICAgICBzdG9yZS5naXRodWJJZCA9IHVzZXJuYW1lOyAvLyB1cGRhdGUgc3RvcmUuZ2l0aHViSWQKCiAgICAgICAgcmV0dXJuIHNpZ25pbih1c2VybmFtZSk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHN0b3JlLmVudGVyUm9vbShyZXMuaWQsIHJlcy51c2Vycyk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnUm9vbScsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcm9vbUlkOiByZXMuaWQKICAgICAgICAgIH0KICAgICAgICB9KTsgLy8g44Or44O844Og44G46aOb44Gz44G+44GZ77yI44Or44O844OgSUTjga/pganlvZPvvIkKCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgc3RvcmUubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBTaWduSW5CdXR0b247Cn0oVnVlKTsKClNpZ25JbkJ1dHRvbiA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudF0sIFNpZ25JbkJ1dHRvbik7CmV4cG9ydCBkZWZhdWx0IFNpZ25JbkJ1dHRvbjs="},{"version":3,"sources":["/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/signIn/SignInButton.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;AAUA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;AACA,OAAO,QAAP,MAAqB,cAArB;AACA,SAAS,IAAT,QAAqB,kBAArB;AACA,SAAS,KAAT,QAAsB,eAAtB;AACA,SAAS,MAAT,QAAuB,cAAvB;;AAGA,IAAqB,YAArB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BACQ;AAAA;;AACJ,MAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACA,UAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAT,CAAc,kBAAlB,EAAjB;AACA,MAAA,IAAI,CAAC,eAAL,CAAqB,QAArB,EACG,IADH,CACQ,UAAC,MAAD,EAAW;AAAA;;AACf,YAAM,QAAQ,GAAG,MAAH,aAAG,MAAH,gDAAG,MAAM,CAAE,kBAAX,0DAAG,sBAA4B,QAA7C;AACA,YAAI,QAAQ,IAAI,IAAhB,EAAsB,MAAM,IAAI,KAAJ,CAAU,yBAAV,CAAN;AACtB,QAAA,KAAK,CAAC,QAAN,GAAiB,QAAjB,CAHe,CAGY;;AAC3B,eAAO,MAAM,CAAC,QAAD,CAAb;AACD,OANH,EAOG,IAPH,CAOQ,UAAC,GAAD,EAAQ;AACZ,QAAA,KAAK,CAAC,SAAN,CAAgB,GAAG,CAAC,EAApB,EAAwB,GAAG,CAAC,KAA5B;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE,MAAR;AAAgB,UAAA,MAAM,EAAE;AAAE,YAAA,MAAM,EAAE,GAAG,CAAC;AAAd;AAAxB,SAAlB,EAFY,CAEqD;;AAClE,OAVH,EAWG,KAXH,CAWS,UAAC,KAAD,EAAU;AACf,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAbH,EAcG,OAdH,CAcW,YAAK;AACZ,QAAA,KAAK,CAAC,OAAN,GAAgB,KAAhB;AACD,OAhBH;AAiBD;AArBH;;AAAA;AAAA,EAA0C,GAA1C,CAAA;;AAAqB,YAAY,GAAA,UAAA,CAAA,CADhC,SACgC,CAAA,EAAZ,YAAY,CAAZ;eAAA,Y","sourcesContent":["\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport firebase from 'firebase/app';\nimport { auth } from '@/utils/firebase';\nimport { store } from '@/utils/store';\nimport { signin } from '@/utils/http';\n\n@Component\nexport default class SignInButton extends Vue {\n  signIn() {\n    store.loading = true;\n    const provider = new firebase.auth.GithubAuthProvider();\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        const username = result?.additionalUserInfo?.username;\n        if (username == null) throw new Error('Username is not defined');\n        store.githubId = username; // update store.githubId\n        return signin(username);\n      })\n      .then((res) => {\n        store.enterRoom(res.id, res.users);\n        this.$router.push({ name: 'Room', params: { roomId: res.id } }); // ルームへ飛びます（ルームIDは適当）\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        store.loading = false;\n      });\n  }\n}\n"],"sourceRoot":""}]}