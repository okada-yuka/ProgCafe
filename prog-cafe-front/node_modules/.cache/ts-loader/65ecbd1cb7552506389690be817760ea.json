{"remainingRequest":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js??ref--14-2!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/callStatus/CallStatus.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/callStatus/CallStatus.vue","mtime":1600820798359},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveW9rYWRhL00xL1Byb2dDYWZlL3Byb2ctY2FmZS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy95b2thZGEvTTEvUHJvZ0NhZmUvcHJvZy1jYWZlLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3lva2FkYS9NMS9Qcm9nQ2FmZS9wcm9nLWNhZmUtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMveW9rYWRhL00xL1Byb2dDYWZlL3Byb2ctY2FmZS1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFJlZiwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBVc2VySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvZ2xvYmFsL1VzZXJJY29uLnZ1ZSc7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnQC91dGlscy9zdG9yZSc7Cgp2YXIgQ2FsbFN0YXR1cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhDYWxsU3RhdHVzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihDYWxsU3RhdHVzKTsKCiAgZnVuY3Rpb24gQ2FsbFN0YXR1cygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FsbFN0YXR1cyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLm11dGVkID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ2FsbFN0YXR1cywgW3sKICAgIGtleTogIm11dGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG11dGUoKSB7CiAgICAgIHZhciBfc3RvcmUkY2FsbENvbm4sCiAgICAgICAgICBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCEoKF9zdG9yZSRjYWxsQ29ubiA9IHN0b3JlLmNhbGxDb25uKSA9PT0gbnVsbCB8fCBfc3RvcmUkY2FsbENvbm4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdG9yZSRjYWxsQ29ubi5zdHJlYW0pKSByZXR1cm47CiAgICAgIHRoaXMubXV0ZWQgPSAhdGhpcy5tdXRlZDsKICAgICAgc3RvcmUuY2FsbENvbm4uc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ24KICAgICAgICB0cmFjay5lbmFibGVkID0gIV90aGlzMi5tdXRlZDsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFuZ3VwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5ndXAoKSB7CiAgICAgIHN0b3JlLmNhbGxFbmQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZW55IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZW55KCkgewogICAgICBzdG9yZS5jYWxsRGVueSgpOwogICAgfQogIH0sIHsKICAgIGtleTogImFjY2VwdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWNjZXB0KCkgewogICAgICBzdG9yZS5jYWxsU3RhcnQoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0YXJnZXRVc2VyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gc3RvcmUuY2FsbFRhcmdldCB8fCAnJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxsaW5nIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gc3RvcmUuY2FsbFN0YXR1cyAhPT0gJ25vbmUnOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIENhbGxTdGF0dXM7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1JlZigpXSwgQ2FsbFN0YXR1cy5wcm90b3R5cGUsICJhdWRpb0VsZW1lbnQiLCB2b2lkIDApOwoKQ2FsbFN0YXR1cyA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgVXNlckljb246IFVzZXJJY29uCiAgfQp9KV0sIENhbGxTdGF0dXMpOwpleHBvcnQgZGVmYXVsdCBDYWxsU3RhdHVzOw=="},{"version":3,"sources":["/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/callStatus/CallStatus.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;AAuBA,SAAS,SAAT,EAAoB,GAApB,EAAyB,GAAzB,QAAoC,wBAApC;AACA,OAAO,QAAP,MAAqB,kCAArB;AACA,SAAS,KAAT,QAAsB,eAAtB;;AAOA,IAAqB,UAArB;AAAA;;AAAA;;AAAA,wBAAA;AAAA;;AAAA;;;AAEE,UAAA,KAAA,GAAQ,KAAR;AAFF;AAgCC;;AAhCD;AAAA;AAAA,2BAYM;AAAA;AAAA;;AACF,UAAI,qBAAC,KAAK,CAAC,QAAP,oDAAC,gBAAgB,MAAjB,CAAJ,EAA6B;AAC7B,WAAK,KAAL,GAAa,CAAC,KAAK,KAAnB;AACA,MAAA,KAAK,CAAC,QAAN,CAAe,MAAf,CAAsB,cAAtB,GAAuC,OAAvC,CAA+C,UAAC,KAAD,EAAU;AACvD;AACA,QAAA,KAAK,CAAC,OAAN,GAAgB,CAAC,MAAI,CAAC,KAAtB;AACD,OAHD;AAID;AAnBH;AAAA;AAAA,6BAqBQ;AACJ,MAAA,KAAK,CAAC,OAAN;AACD;AAvBH;AAAA;AAAA,2BAyBM;AACF,MAAA,KAAK,CAAC,QAAN;AACD;AA3BH;AAAA;AAAA,6BA6BQ;AACJ,MAAA,KAAK,CAAC,SAAN;AACD;AA/BH;AAAA;AAAA,wBAIgB;AACZ,aAAO,KAAK,CAAC,UAAN,IAAoB,EAA3B;AACD;AANH;AAAA;AAAA,wBAQa;AACT,aAAO,KAAK,CAAC,UAAN,KAAqB,MAA5B;AACD;AAVH;;AAAA;AAAA,EAAwC,GAAxC,CAAA;;AACS,UAAA,CAAA,CAAN,GAAG,EAAG,CAAA,E,oBAAA,E,cAAA,E,KAA+B,CAA/B,CAAA;;AADY,UAAU,GAAA,UAAA,CAAA,CAL9B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,QAAQ,EAAR;AADU;AADH,CAAD,CAKqB,CAAA,EAAV,UAAU,CAAV;eAAA,U","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Ref, Vue } from 'vue-property-decorator';\nimport UserIcon from '@/components/global/UserIcon.vue';\nimport { store } from '@/utils/store';\n\n@Component({\n  components: {\n    UserIcon,\n  },\n})\nexport default class CallStatus extends Vue {\n  @Ref() audioElement!: HTMLAudioElement\n  muted = false\n\n  get targetUser() {\n    return store.callTarget || '';\n  }\n\n  get calling() {\n    return store.callStatus !== 'none';\n  }\n\n  mute() {\n    if (!store.callConn?.stream) return;\n    this.muted = !this.muted;\n    store.callConn.stream.getAudioTracks().forEach((track) => {\n      // eslint-disable-next-line no-param-reassign\n      track.enabled = !this.muted;\n    });\n  }\n\n  hangup() {\n    store.callEnd();\n  }\n\n  deny() {\n    store.callDeny();\n  }\n\n  accept() {\n    store.callStart();\n  }\n}\n"],"sourceRoot":""}]}