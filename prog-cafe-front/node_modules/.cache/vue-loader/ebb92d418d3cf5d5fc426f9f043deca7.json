{"remainingRequest":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/Capture.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/Capture.vue","mtime":1600820798358},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFJlZiwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcHR1cmUgZXh0ZW5kcyBWdWUgewogIEBSZWYoKSBjYXB0dXJlVmlkZW9FbGVtZW50ITogSFRNTFZpZGVvRWxlbWVudAoKICBtb3VudGVkKCkgewogICAgdGhpcy5jYXB0dXJlU3RhcnQoKTsKICB9CgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNhcHR1cmVFbmQoKTsKICB9CgogIGNhcHR1cmVTdGFydCgpIHsKICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsKICAgICAgdmlkZW86IHsgd2lkdGg6IDY0MCwgaGVpZ2h0OiAzNjAgfSwKICAgIH0pCiAgICAgIC50aGVuKChzdHJlYW0pID0+IHsKICAgICAgICB0aGlzLmNhcHR1cmVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgfSk7CiAgfQoKICBjYXB0dXJlRW5kKCkgewogICAgaWYgKHRoaXMuY2FwdHVyZVZpZGVvRWxlbWVudC5zcmNPYmplY3QgaW5zdGFuY2VvZiBNZWRpYVN0cmVhbSkgewogICAgICB0aGlzLmNhcHR1cmVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0LmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB0cmFjay5zdG9wKCkpOwogICAgfQogICAgdGhpcy5jYXB0dXJlVmlkZW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7CiAgfQp9Cg=="},{"version":3,"sources":["Capture.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Capture.vue","sourceRoot":"src/components/room/status","sourcesContent":["<template>\n  <div class=\"capture\">\n    <video\n      ref=\"captureVideoElement\"\n      autoplay\n      controls\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Ref, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class Capture extends Vue {\n  @Ref() captureVideoElement!: HTMLVideoElement\n\n  mounted() {\n    this.captureStart();\n  }\n\n  beforeDestroy() {\n    this.captureEnd();\n  }\n\n  captureStart() {\n    navigator.mediaDevices.getUserMedia({\n      video: { width: 640, height: 360 },\n    })\n      .then((stream) => {\n        this.captureVideoElement.srcObject = stream;\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  captureEnd() {\n    if (this.captureVideoElement.srcObject instanceof MediaStream) {\n      this.captureVideoElement.srcObject.getTracks().forEach((track) => track.stop());\n    }\n    this.captureVideoElement.srcObject = null;\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.capture {\n  width: 100%;\n  height: 100%;\n\n  padding: 1em;\n  padding-bottom: 0;\n\n  video {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n\n    border-radius: 10px;\n  }\n}\n</style>\n"]}]}