{"remainingRequest":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/signIn/SignInButton.vue?vue&type=style&index=0&id=64201081&scoped=true&lang=css&","dependencies":[{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/signIn/SignInButton.vue","mtime":1600820798363},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zaWduaW4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDcwJTsKICBsZWZ0OiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7Cn0KYnV0dG9uIHsKICBkaXNwbGF5OiBmbGV4OwogIGJhY2tncm91bmQtY29sb3I6IGJsYWNrOwogIGNvbG9yOiB3aGl0ZTsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgYm9yZGVyOiAwOwogIGN1cnNvcjogcG9pbnRlcjsKICBwYWRkaW5nOiAwLjVlbSAxLjJlbTsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9CmJ1dHRvbiBzcGFuIHsKICBtYXJnaW4tbGVmdDogMWVtOwp9CmJ1dHRvbiBpbWcgewogIGhlaWdodDogMS41ZW07Cn0K"},{"version":3,"sources":["SignInButton.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignInButton.vue","sourceRoot":"src/components/signIn","sourcesContent":["<template>\n  <div class=\"signin\">\n    <button @click=\"signIn\">\n      <img src=\"https://github.githubassets.com/favicons/favicon-dark.png\" />\n      <span>Sign up with GitHub</span>\n    </button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\nimport firebase from 'firebase/app';\nimport { auth } from '@/utils/firebase';\nimport { store } from '@/utils/store';\nimport { signin } from '@/utils/http';\n\n@Component\nexport default class SignInButton extends Vue {\n  signIn() {\n    store.loading = true;\n    const provider = new firebase.auth.GithubAuthProvider();\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        const username = result?.additionalUserInfo?.username;\n        if (username == null) throw new Error('Username is not defined');\n        store.githubId = username; // update store.githubId\n        return signin(username);\n      })\n      .then((res) => {\n        store.enterRoom(res.id, res.users);\n        this.$router.push({ name: 'Room', params: { roomId: res.id } }); // ルームへ飛びます（ルームIDは適当）\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      .finally(() => {\n        store.loading = false;\n      });\n  }\n}\n</script>\n\n<style scoped>\n.signin {\n  position: absolute;\n  top: 70%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\nbutton {\n  display: flex;\n  background-color: black;\n  color: white;\n  border-radius: 5px;\n  border: 0;\n  cursor: pointer;\n  padding: 0.5em 1.2em;\n  align-items: center;\n}\nbutton span {\n  margin-left: 1em;\n}\nbutton img {\n  height: 1.5em;\n}\n</style>\n"]}]}