{"remainingRequest":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/callStatus/CallStatus.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/src/components/room/status/callStatus/CallStatus.vue","mtime":1600820798359},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yokada/M1/ProgCafe/prog-cafe-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFJlZiwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCBVc2VySWNvbiBmcm9tICdAL2NvbXBvbmVudHMvZ2xvYmFsL1VzZXJJY29uLnZ1ZSc7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnQC91dGlscy9zdG9yZSc7CgpAQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBVc2VySWNvbiwKICB9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBDYWxsU3RhdHVzIGV4dGVuZHMgVnVlIHsKICBAUmVmKCkgYXVkaW9FbGVtZW50ITogSFRNTEF1ZGlvRWxlbWVudAogIG11dGVkID0gZmFsc2UKCiAgZ2V0IHRhcmdldFVzZXIoKSB7CiAgICByZXR1cm4gc3RvcmUuY2FsbFRhcmdldCB8fCAnJzsKICB9CgogIGdldCBjYWxsaW5nKCkgewogICAgcmV0dXJuIHN0b3JlLmNhbGxTdGF0dXMgIT09ICdub25lJzsKICB9CgogIG11dGUoKSB7CiAgICBpZiAoIXN0b3JlLmNhbGxDb25uPy5zdHJlYW0pIHJldHVybjsKICAgIHRoaXMubXV0ZWQgPSAhdGhpcy5tdXRlZDsKICAgIHN0b3JlLmNhbGxDb25uLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnbgogICAgICB0cmFjay5lbmFibGVkID0gIXRoaXMubXV0ZWQ7CiAgICB9KTsKICB9CgogIGhhbmd1cCgpIHsKICAgIHN0b3JlLmNhbGxFbmQoKTsKICB9CgogIGRlbnkoKSB7CiAgICBzdG9yZS5jYWxsRGVueSgpOwogIH0KCiAgYWNjZXB0KCkgewogICAgc3RvcmUuY2FsbFN0YXJ0KCk7CiAgfQp9Cg=="},{"version":3,"sources":["CallStatus.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CallStatus.vue","sourceRoot":"src/components/room/status/callStatus","sourcesContent":["<template>\n  <div class=\"call-status\">\n    <UserIcon :name=\"targetUser\" />\n    <div class=\"buttons calling\" v-if=\"calling\">\n      <button class=\"red left\">\n        <img src=\"@/assets/hungup.png\" alt=\"end tel\" @click=\"hangup\">\n      </button>\n      <button class=\"brown right\">\n        <img src=\"@/assets/mute.png\" alt=\"mute\" @click=\"mute\">\n      </button>\n    </div>\n    <div class=\"buttons not-calling\" v-else>\n      <button class=\"red left\">\n        <img src=\"@/assets/no.png\" alt=\"deny\" @click=\"deny\">\n      </button>\n      <button class=\"green right\">\n        <img src=\"@/assets/yes.png\" alt=\"accept\" @click=\"accept\">\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Ref, Vue } from 'vue-property-decorator';\nimport UserIcon from '@/components/global/UserIcon.vue';\nimport { store } from '@/utils/store';\n\n@Component({\n  components: {\n    UserIcon,\n  },\n})\nexport default class CallStatus extends Vue {\n  @Ref() audioElement!: HTMLAudioElement\n  muted = false\n\n  get targetUser() {\n    return store.callTarget || '';\n  }\n\n  get calling() {\n    return store.callStatus !== 'none';\n  }\n\n  mute() {\n    if (!store.callConn?.stream) return;\n    this.muted = !this.muted;\n    store.callConn.stream.getAudioTracks().forEach((track) => {\n      // eslint-disable-next-line no-param-reassign\n      track.enabled = !this.muted;\n    });\n  }\n\n  hangup() {\n    store.callEnd();\n  }\n\n  deny() {\n    store.callDeny();\n  }\n\n  accept() {\n    store.callStart();\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.call-status {\n  position: relative;\n  padding: 1em;\n  padding-bottom: 0;\n\n  .user-icon {\n    position: absolute;\n    top: 55%;\n    left: 50%;\n    height: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  .buttons {\n    display: grid;\n    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n    grid-template-rows: minmax(0, 1fr);\n    height: 100%;\n    max-width: 100%;\n\n    button {\n      display: block;\n      height: 100%;\n      border: 0;\n      outline: none;\n      cursor: pointer;\n\n      img {\n        height: 20%;\n      }\n\n      &.red {\n        background: #dc9292;\n      }\n      &.brown {\n        background: var(--main);\n      }\n      &.green {\n        background: #8ebf96;\n      }\n      &.left {\n        border-radius: 10px 0 0 10px;\n      }\n      &.right {\n        border-radius: 0 10px 10px 0;\n      }\n    }\n  }\n}\n</style>\n"]}]}